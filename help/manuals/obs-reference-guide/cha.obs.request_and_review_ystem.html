<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Request And Review System | Open Build Service</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="book-title" content="Open Build Service" /><meta name="chapter-title" content="Chapter 5. Request And Review System" /><link rel="home" href="index.html" title="Open Build Service" /><link rel="up" href="index.html" title="Open Build Service" /><link rel="prev" href="cha.obs.source_management.html" title="Chapter 4. Source Management" /><link rel="next" href="cha.obs.package_formats.html" title="Chapter 6. Package Formats" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  if (agent.indexOf('android') != -1 && agent.indexOf('chrom') != -1 ) {
      file = 'fonts-nolocal.css';
  }
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script></head><body class="offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Open Build Service"><span class="book-icon">Open Build Service</span></a><span> › </span><a class="crumb" href="cha.obs.request_and_review_ystem.html">Request And Review System</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Open Build Service</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pr01.html"><span class="number"> </span><span class="name">About this Guide</span></a></li><li class="inactive"><a href="cha.obs.motivation.html"><span class="number">1 </span><span class="name">Distributing Free Software: Herding Cats</span></a></li><li class="inactive"><a href="cha.obs.concepts.html"><span class="number">2 </span><span class="name">OBS Concepts</span></a></li><li class="inactive"><a href="cha.obs.build_process.html"><span class="number">3 </span><span class="name">Build Process</span></a></li><li class="inactive"><a href="cha.obs.source_management.html"><span class="number">4 </span><span class="name">Source Management</span></a></li><li class="inactive"><a href="cha.obs.request_and_review_ystem.html"><span class="number">5 </span><span class="name">Request And Review System</span></a></li><li class="inactive"><a href="cha.obs.package_formats.html"><span class="number">6 </span><span class="name">Package Formats </span></a></li><li class="inactive"><a href="cha.obs.build_config.html"><span class="number">7 </span><span class="name">Build Configuration</span></a></li><li class="inactive"><a href="cha.obs.source_service.html"><span class="number">8 </span><span class="name">Source Services</span></a></li><li class="inactive"><a href="cha.obs.signing.html"><span class="number">9 </span><span class="name">Signing</span></a></li><li class="inactive"><a href="cha.obs.product_building.html"><span class="number">10 </span><span class="name">Product Building</span></a></li><li class="inactive"><a href="cha.obs.maintenance_setup.html"><span class="number">11 </span><span class="name">Maintenance Support</span></a></li><li class="inactive"><a href="cha.obs.binary_tracking.html"><span class="number">12 </span><span class="name">Binary Package Tracking</span></a></li><li class="inactive"><a href="cha.obs.cross_arch_build.html"><span class="number">13 </span><span class="name">Cross Architecture Build</span></a></li><li class="inactive"><a href="cha.obs.admin.html"><span class="number">14 </span><span class="name">Administration</span></a></li><li class="inactive"><a href="cha.obs.build_scheduling_and_dispatching.html"><span class="number">15 </span><span class="name">Scheduling and Dispatching</span></a></li><li class="inactive"><a href="cha.obs.build_job_constraints.html"><span class="number">16 </span><span class="name">Build Job Constraints</span></a></li><li class="inactive"><a href="cha.obs.build_preinstall.html"><span class="number">17 </span><span class="name">Build Preinstall Images</span></a></li><li class="inactive"><a href="cha.obs.authorization.token.html"><span class="number">18 </span><span class="name">Authorization</span></a></li><li class="inactive"><a href="cha.obs.qa_hooks.html"><span class="number">19 </span><span class="name">Quality Assurance(QA) Hooks</span></a></li><li class="inactive"><a href="cha.obs.factory.html"><span class="number">20 </span><span class="name">openSUSE Factory</span></a></li><li class="inactive"><a href="go01.html"><span class="number"> </span><span class="name">Glossary</span></a></li><li class="inactive"><a href="appendix.work_on_obs_book.html"><span class="number">A </span><span class="name">How to work on this Book</span></a></li><li class="inactive"><a href="apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 4. Source Management" href="cha.obs.source_management.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 6. Package Formats " href="cha.obs.package_formats.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Open Build Service"><span class="book-icon">Open Build Service</span></a><span> › </span><a class="crumb" href="cha.obs.request_and_review_ystem.html">Request And Review System</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 4. Source Management" href="cha.obs.source_management.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 6. Package Formats " href="cha.obs.package_formats.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class=""><div class="documentation"><div class="chapter " id="cha.obs.request_and_review_ystem"><div class="titlepage"><div><div><h1 class="title"><span class="number">5 </span><span class="name">Request And Review System</span> </h1></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="cha.obs.request_and_review_ystem.html#idm140674039192416"><span class="number">5.1 </span><span class="name">How a request looks alike</span></a></span></dt></dl></div></div><p>The OBS comes with a generic request system where one party can ask another one do a certain action. This can be for example taking source changes, granting maintainer rights or to delete a package. The requests are also used deal with more complex workflows.</p><p>A request is an object in the database. It can be accessed via the /request api route. osc and the web interface can show and process these requests. There are also interface to show the requests which should be handled for a certain user.
    </p><div class="section "><div class="titlepage"><div><div><h2 class="title" id="idm140674039192416"><span class="number">5.1 </span><span class="name">How a request looks alike</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674039192416">#</a></h2></div></div></div><p>A request is an object in the database. It can be accessed via the /request api route. Main parts of the request are
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
     state: The state tells if the request still needs to processed or has been handled already and how.
     </li><li class="listitem ">
     actions: these are the changes which will be applied when accepting the request.
     </li><li class="listitem ">
     reviewer: reviewer can be added automatically at request creation time or manually by any involved party. Usually all of them should approve the request before it will be accepted. However, the target can ignore that and accept anyway optionally.
     </li><li class="listitem ">
     descripton: a description why the actions shall be done.
     </li><li class="listitem ">
     history: a history about state changes of the request.
     </li><li class="listitem ">
     accept_at: the request will get accepted automatically after the given time. Such a request can only be create when having write permissions in the target. Automatic cleanup requests created by Admin user are using this.
     </li></ul></div><p>

    A request can only be accepted entirely or not at all. Therefore it may make sense to have multiple actions in one request if changes should be applied in one transaction. For example submitting a new package and remove an old instance: Do either both or nothing. This means also that the request accepter needs to have write access in all targets or he will not be allow to accept the request.

    </p><div class="section "><div class="titlepage"><div><div><h3 class="title" id="idm140674039263312"><span class="number">5.1.1 </span><span class="name">Action types</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674039263312">#</a></h3></div></div></div><p>Actions do always specify some target. This can be either a project or a package. Further information depend on the action type. The following gives an overview, for details please check the xml schema for requests. </p><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674036607520"><span class="number">5.1.1.1 </span><span class="name">Submit</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674036607520">#</a></h4></div></div></div><p>A submit action will transfer sources from one package to another package. Usually it refers to a certain revision in the source, but it does not has to. If no revision is specified the current revision on accept time will be used. This should be avoided when relying on complex reviews during the request process.
        </p><p>
          The submit action can optionally also have options to update the source or even to remove the source on accepting the request. Tools like osc are applying the cleanup rule by default when submitting from a default user home branch project.
        </p></div><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674038760848"><span class="number">5.1.1.2 </span><span class="name">delete</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674038760848">#</a></h4></div></div></div><p>A delete action can request to remove a project or package instance.
        </p></div><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674040019744"><span class="number">5.1.1.3 </span><span class="name">add_role</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674040019744">#</a></h4></div></div></div><p>requesting to add a specified role for a given user or group to the target. For example to
              ask for maintainer rights. Or to become a default reviewer.</p></div><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674037320304"><span class="number">5.1.1.4 </span><span class="name">set_bugowner</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674037320304">#</a></h4></div></div></div><p>set_bugowner is similar to add_role, but removes all other bugowner roles in the target. This happens to have a uniq identifier to be used when assigning bugreports in external tools like bugzilla.</p></div><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674037318640"><span class="number">5.1.1.5 </span><span class="name">change_devel</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674037318640">#</a></h4></div></div></div><p>can be used to update the devel package information in the target.</p></div><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674037317184"><span class="number">5.1.1.6 </span><span class="name">maintenance_incident</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674037317184">#</a></h4></div></div></div><p>Official request to open a maintenance incident for official support products. This create by developers who want to start an official maintenance process. Find detail in the maintenance chapter about this. If accepted, a new maintenance incident project is created and package sources listed are copied there. All sources of all actions in one request will be merged into the same maintenance incident.</p></div><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674037315312"><span class="number">5.1.1.7 </span><span class="name">maintenance_release</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674037315312">#</a></h4></div></div></div><p>Is used to release a ready maintenance update. Unlike maintenance_incident or submit, sources and binaries are copied without a rebuild. Details can be found in maintenance chapter.</p></div><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674039255568"><span class="number">5.1.1.8 </span><span class="name">group</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674039255568">#</a></h4></div></div></div><p>Existed for some time, but never in a released OBS version. It is not allowed to be used anymore.</p></div></div><div class="section "><div class="titlepage"><div><div><h3 class="title" id="idm140674039253936"><span class="number">5.1.2 </span><span class="name">Request states</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674039253936">#</a></h3></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
        new: The default value for new created requests. Everybody involved in the specified targets can see the request and accept or decline it.
        </li><li class="listitem ">
        accepted: The request has been accept and the changes are applied. history files have a reference to this request.
        </li><li class="listitem ">
        declined: The request has not been accepted by the target. This may be used to ask for some more informations from the submitter, since a declined requests becomes an active request in the views of the submitter.
        </li><li class="listitem ">
        revoked: The submitter has taken back his request. The request is considered to be inactive now.
        </li><li class="listitem ">
        superseded: This request is obsolete due to a new request. The request is considered to be inactive now. The superseding request is linked in this request.
        </li><li class="listitem ">
        review: There are still open reviews inside of the request. None have declined it yet. The request is not yet visible to the target by default. The state will change automatically to new when all reviewers accept.
        </li></ul></div></div><div class="section "><div class="titlepage"><div><div><h3 class="title" id="idm140674037422848"><span class="number">5.1.3 </span><span class="name">Reviewers</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674037422848">#</a></h3></div></div></div><p>Reviews can be done by users, groups, projects or packages. Review by project or package means that any maintainer of them is asked for reviews. This is handy to avoid the need to figure who actually is a maintainer of a certain package. Also new maintainers of a package will see requests in case the old maintainer did not handle them.
      </p><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674037421200"><span class="number">5.1.3.1 </span><span class="name">Manual added reviews</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674037421200">#</a></h4></div></div></div><p>Reviewers can be added manually by anyone involved in a request. This can be used to hand over a review. In that situatiation the new reviewer needs to be added and the own review needs to be accept.
      The request becomes declined when any of the reviewers are declining the request.
        </p></div><div class="section "><div class="titlepage"><div><div><h4 class="title" id="idm140674037419424"><span class="number">5.1.3.2 </span><span class="name">Automatic added reviews</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674037419424">#</a></h4></div></div></div><p>Project and package objects can have users or groups with a reviewer role. They are added automatically to a request as reviwer when a request is created which has them as target. In case the project and package bother specify reviewer all of them are added to the request.
        </p></div></div><div class="section "><div class="titlepage"><div><div><h3 class="title" id="idm140674037417472"><span class="number">5.1.4 </span><span class="name">Request creation</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674037417472">#</a></h3></div></div></div><p>The api is doing a number of checks on request creation time. In case a target is not specified it tries to set it according to the linked package. If an entire project is specified as source it expands it to refer all packages inside. This means it is replacing one action with multiple. When using the addrevision parameter it does also add the current revision of the package source to the action. This makes it easy to create new requests with little logic in the client.
      </p></div><div class="section "><div class="titlepage"><div><div><h3 class="title" id="idm140674042099488"><span class="number">5.1.5 </span><span class="name">Request operations</span> <a title="Permalink" class="permalink" href="cha.obs.request_and_review_ystem.html#idm140674042099488">#</a></h3></div></div></div><p>Requests can be modified only in very limited ways after creation. This is to avoid that reviewers reviewed a request but the nature of the requests is changing afterwards. Valid operations on a request are:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
         diff: does not modify the request, just shows source modifications wanted by the request
        </li><li class="listitem ">
         changestate: to change the state of the request, for example to accept it.
        </li><li class="listitem ">
         changereviewstate: to change the state of a review inside of a request.
        </li><li class="listitem ">
         addreviewer: add further reviewer to a request
        </li></ul></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.obs.package_formats.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 6 </span>Package Formats </span></a><a class="nav-link" href="cha.obs.source_management.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 4 </span>Source Management</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2015 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>