<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 17. Authorization</title><link rel="stylesheet" type="text/css" href="static/css/susebooks.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="self" href="cha.obs.authorization.token.html" title="Authorization" /><link rel="home" href="index.html" title="Open Build Service" /><link rel="up" href="index.html" title="Open Build Service" /><link rel="previous" href="cha.obs.build_preinstall.html" title="Chapter 16. Build Preinstall Images" /><link rel="next" href="cha.obs.qa_hooks.html" title="Chapter 18. Quality Assurance(QA) Hooks" /></head><body><div class="navheader"><table width="100%" summary="Navigation header" border="0" class="bctable"><tr><td width="80%"><div class="breadcrumbs"><p><a href="index.html">Open Build Service</a><strong><a accesskey="p" title="Chapter 16. Build Preinstall Images" href="cha.obs.build_preinstall.html"><span>◀</span></a>  <a accesskey="n" title="Chapter 18. Quality Assurance(QA) Hooks" href="cha.obs.qa_hooks.html"><span>▶</span></a></strong></p></div></td></tr></table></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="cha.obs.authorization.token"></a>Chapter 17. Authorization<span class="permalink"><a title="Copy Permalink" href="#cha.obs.authorization.token">¶</a></span></h2></div></div></div><div class="toc"><p><strong>Contents</strong></p><dl class="toc"><dt><span class="section"><a href="cha.obs.authorization.token.html#idm139959503926064">17.1. OBS Authorization Methods</a></span></dt><dt><span class="section"><a href="cha.obs.authorization.token.html#idm139959499005744">17.2. OBS Token Authorization</a></span></dt></dl></div><p></p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm139959503926064"></a>17.1. OBS Authorization Methods<span class="permalink"><a title="Copy Permalink" href="#idm139959503926064">¶</a></span></h2></div></div></div><p>Each package is signed with a PGP key to allow checking its integrity on user's machines.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm139959501093328"></a>17.1.1. Default Mode<span class="permalink"><a title="Copy Permalink" href="#idm139959501093328">¶</a></span></h3></div></div></div><p>OBS provides it's own user database which can also store a password. The authentification to
            the api happens via HTTP BASIC AUTH. Please see the api documentation to find out how to create,
            modify or delete user data. Also a call for changing the password exists.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm139959503396352"></a>17.1.2. Proxy Mode<span class="permalink"><a title="Copy Permalink" href="#idm139959503396352">¶</a></span></h3></div></div></div><p>The proxy mode can be used for esp. secured instances, where the OBS web server shall not get
            connected to the network directly. There are authentification proxy products out there which
            do the authentification and send the user name via a HTTP header to OBS. This has also the advantage
            that the user password never reaches OBS.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm139959503235344"></a>17.1.3. LDAP Mode<span class="permalink"><a title="Copy Permalink" href="#idm139959503235344">¶</a></span></h3></div></div></div><p>LDAP authentification code is still part of OBS, but due to the lack of any test cases it is
            currently not recommended to use it.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm139959499005744"></a>17.2. OBS Token Authorization<span class="permalink"><a title="Copy Permalink" href="#idm139959499005744">¶</a></span></h2></div></div></div><p>OBS 2.5 provides a mechanism to create tokens for specific operations. This can be used
          to allow certain operations in the name of a user to others. This is esp. useful when integrating
          external infrastructure. The create token should be kept secret by default, but it can also be 
          revoked at any time if it became obsolete or leaked.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm139959501116608"></a>17.2.1. Manage tokens of a user<span class="permalink"><a title="Copy Permalink" href="#idm139959501116608">¶</a></span></h3></div></div></div><p>Tokens belong always to a user. A list of active tokens can received via </p><pre class="screen"><span class="command"><strong>osc token</strong></span></pre><pre class="screen"><span class="command"><strong>osc token --delete &lt;TOKEN&gt;</strong></span></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm139959501066800"></a>17.2.2. Execute a source service<span class="permalink"><a title="Copy Permalink" href="#idm139959501066800">¶</a></span></h3></div></div></div><p>A token can be used to execute a source service. The source service has to be setup for the
            package first, check the source service chapter for this. A typical example is to update
            sources of a package from git. A source service for that can be setup with</p><pre class="screen"><span class="command"><strong>osc add git://....</strong></span></pre><p>A token can be registered as generic token, means allowing to execute all source services
            in OBS if the user has permissions. You can create such a token and execute operation with</p><pre class="screen"><span class="command"><strong>osc token --create</strong></span></pre><pre class="screen"><span class="command"><strong>osc token --trigger &lt;TOKEN&gt; &lt;PROJECT&gt; &lt;PACKAGE&gt;</strong></span></pre><pre class="screen"><span class="command"><strong>osc api -X POST /trigger/runservice?token=&lt;TOKEN&gt;&amp;project=&lt;PROJECT&gt;&amp;package=&lt;PACKAGE&gt;</strong></span></pre><p>You can also limit the token to a specific package. The advantage is that the operation
            is limited to that package, so less bad things can happen when the token leaks. Also you
            do not need to specify the package on execution time. Create and execute it with</p><pre class="screen"><span class="command"><strong>osc token --create &lt;PROJECT&gt; &lt;PACKAGE&gt;</strong></span></pre><pre class="screen"><span class="command"><strong>osc token --trigger &lt;TOKEN&gt;</strong></span></pre><pre class="screen"><span class="command"><strong>osc api -X POST /trigger/runservice?token=&lt;TOKEN&gt;</strong></span></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm139959501192800"></a>17.2.3. Change Request Review Status<span class="permalink"><a title="Copy Permalink" href="#idm139959501192800">¶</a></span></h3></div></div></div><p>NOT YET IMPLEMENTED</p></div></div></div><div class="navfooter"><table width="100%" summary="Navigation footer" border="0" class="bctable"><tr><td width="80%"><div class="breadcrumbs"><p><a href="index.html">Open Build Service</a><strong><a accesskey="p" title="Chapter 16. Build Preinstall Images" href="cha.obs.build_preinstall.html"><span>◀</span></a>  <a accesskey="n" title="Chapter 18. Quality Assurance(QA) Hooks" href="cha.obs.qa_hooks.html"><span>▶</span></a></strong></p></div></td></tr></table></div></body></html>