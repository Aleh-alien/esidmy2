<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 15. Build Preinstall Images</title><link rel="stylesheet" type="text/css" href="static/css/susebooks.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="self" href="cha.obs.build_preinstall.html" title="Build Preinstall Images" /><link rel="home" href="index.html" title="Open Build Service" /><link rel="up" href="index.html" title="Open Build Service" /><link rel="previous" href="cha.obs.build_job_constraints.html" title="Chapter 14. Build Job Constraints" /><link rel="next" href="cha.obs.qa_hooks.html" title="Chapter 16. Quality Assurance(QA) Hooks" /></head><body><div class="navheader"><table width="100%" summary="Navigation header" border="0" class="bctable"><tr><td width="80%"><div class="breadcrumbs"><p><a href="index.html">Open Build Service</a><strong><a accesskey="p" title="Chapter 14. Build Job Constraints" href="cha.obs.build_job_constraints.html"><span>◀</span></a>  <a accesskey="n" title="Chapter 16. Quality Assurance(QA) Hooks" href="cha.obs.qa_hooks.html"><span>▶</span></a></strong></p></div></td></tr></table></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="cha.obs.build_preinstall"></a>Chapter 15. Build Preinstall Images<span class="permalink"><a title="Copy Permalink" href="#cha.obs.build_preinstall">¶</a></span></h2></div></div></div><p>Preinstall images can optionally be used to install a set of packages in one fast step instead
        via single package installations. Depending on the build host even snapshots with copy-on-write
        support may be used which avoids any IO.</p><p>A preinstall image can be used if it provides a subset of packages which is required for the build
        job. The largest possible image is taken if multiple are usable.</p><p>To use a preinstall image there needs to be a package container inside of the project or in a repository
        used by the build job. This package needs a _preinstallimage file. The syntax of it is spec file like, but 
        just needs a Name: and at least one BuildRequires: line. In addition also #!BuildIgnore: tags may be used
        to ignore packages despite of dependencies. Also usage of %if cases is possible. </p><p>Preinstall image build jobs get always prefered to allow the best effect of them. It is recommended to define
        images for often used standard stacks.
        </p><p>Example _preinstallimage file for a basic preinstall image:
        </p><pre class="screen"><span class="command"><strong>
Name: base
BuildRequires: bash
#!BuildIgnore: brp-trim-desktopfiles
        </strong></span></pre><p>
        </p></div><div class="navfooter"><table width="100%" summary="Navigation footer" border="0" class="bctable"><tr><td width="80%"><div class="breadcrumbs"><p><a href="index.html">Open Build Service</a><strong><a accesskey="p" title="Chapter 14. Build Job Constraints" href="cha.obs.build_job_constraints.html"><span>◀</span></a>  <a accesskey="n" title="Chapter 16. Quality Assurance(QA) Hooks" href="cha.obs.qa_hooks.html"><span>▶</span></a></strong></p></div></td></tr></table></div></body></html>