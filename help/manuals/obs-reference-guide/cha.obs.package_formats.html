<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 6. Package Formats</title><link rel="stylesheet" type="text/css" href="static/css/susebooks.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="self" href="cha.obs.package_formats.html" title="Package Formats " /><link rel="home" href="index.html" title="Open Build Service" /><link rel="up" href="index.html" title="Open Build Service" /><link rel="previous" href="cha.obs.request_and_review_ystem.html" title="Chapter 5. Request And Review System" /><link rel="next" href="cha.obs.build_config.html" title="Chapter 7. Build Configuration" /></head><body><div class="navheader"><table width="100%" summary="Navigation header" border="0" class="bctable"><tr><td width="80%"><div class="breadcrumbs"><p><a href="index.html">Open Build Service</a><strong><a accesskey="p" title="Chapter 5. Request And Review System" href="cha.obs.request_and_review_ystem.html"><span>◀</span></a>  <a accesskey="n" title="Chapter 7. Build Configuration" href="cha.obs.build_config.html"><span>▶</span></a></strong></p></div></td></tr></table></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="cha.obs.package_formats"></a>Chapter 6. Package Formats <span class="permalink"><a title="Copy Permalink" href="#cha.obs.package_formats">¶</a></span></h2></div></div></div><div class="toc"><p><strong>Contents</strong></p><dl class="toc"><dt><span class="section"><a href="cha.obs.package_formats.html#idm140625645357056">6.1. Setting up a format</a></span></dt><dt><span class="section"><a href="cha.obs.package_formats.html#idm140625643940064">6.2. Recipe Specials</a></span></dt></dl></div><p>OBS differentiates between the format of the build recipes and the
        format of the installed packages. For example, the 'spec' recipe
        format is used to build 'rpm' packages by calling rpmbuild. In most
        cases the build result format is the same as the package format
        used for setting up the build environment, but sometimes the format
        is different. An example is the 'kiwi' recipe format, which builds
        products and isos, but uses rpm packages to setup the build process.
  </p><p>OBS currently supports 'rpm', 'deb' (debian), 'arch' as package
        formats and 'spec', 'dsc', 'kiwi' (both product and appliances),
        'arch', and 'preinstallimage' as recipe formats.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140625645357056"></a>6.1. Setting up a format<span class="permalink"><a title="Copy Permalink" href="#idm140625645357056">¶</a></span></h2></div></div></div><p>If no recipe format and binary format is specified in the prjconf,
          OBS tries to deduce them from the preinstall list, which includes
          the name of the used package manager. This means that you need to
          manually configure the 'kiwi' recipe config, as a 'rpm' package
          format will select 'spec' builds as default. This configuration
          is done by adding a 'Type' line to the project configuration.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140625643940064"></a>6.2. Recipe Specials<span class="permalink"><a title="Copy Permalink" href="#idm140625643940064">¶</a></span></h2></div></div></div><p>Each format has some specials</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm140625644509968"></a>6.2.1. spec<span class="permalink"><a title="Copy Permalink" href="#idm140625644509968">¶</a></span></h3></div></div></div><p>For building rpms you need a .spec file for each package,
            containing its build description. OBS parses the spec file's
            BuildRequires lines to get a list of package dependencies. OBS
	    uses this information to both build the packages in the correct
            order and also for setting up the build environment. The parser
            understands most of rpm's macro handling, so it's possible to
            use architecture specific BuildRequires, conditional builds
            and other advanced rpm features.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm140625644682416"></a>6.2.2. deb<span class="permalink"><a title="Copy Permalink" href="#idm140625644682416">¶</a></span></h3></div></div></div><p>To build *.deb files, which are used on debian-based
      distributions, you need the following files:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
debian.control
       </li></ul></div><p>
            Here are the meta informations for the package like the build
            dependencies or some description.
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
debian.rules
       </li></ul></div><p>
            This file describes the build section of the deb building process.
            There are the configure and make compile commands including other deb
            building sections.
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
$PACKAGE.dsc
       </li></ul></div><p>
            In this file you describe the package names of each subpackage and their
            dependency level.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm140625643059152"></a>6.2.3. pkg<span class="permalink"><a title="Copy Permalink" href="#idm140625643059152">¶</a></span></h3></div></div></div><p>This package format is for Archlinux and his derivates. To
            build a Archlinux pkg you need a PKGBUILD file containing
            the build description and the source tarball. PKGBUILD's have
            no macros like %{buildroot}. They have variables for example
            makedepens=(package1, package2). This variables are parsed by
            the OBS and uses them as dependencies. On Archlinux you
            typically build packages without subpackage. They are no *-dev
            oder *-devel packages.
            </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm140625642802704"></a>6.2.4. kiwi appliance<span class="permalink"><a title="Copy Permalink" href="#idm140625642802704">¶</a></span></h3></div></div></div><p>KIWI is image producing plattform which builds images for ISO
            images and virtualization systems like QEMU, XEN and VMWare.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm140625642801104"></a>6.2.5. kiwi product<span class="permalink"><a title="Copy Permalink" href="#idm140625642801104">¶</a></span></h3></div></div></div><p>...</p></div></div></div><div class="navfooter"><table width="100%" summary="Navigation footer" border="0" class="bctable"><tr><td width="80%"><div class="breadcrumbs"><p><a href="index.html">Open Build Service</a><strong><a accesskey="p" title="Chapter 5. Request And Review System" href="cha.obs.request_and_review_ystem.html"><span>◀</span></a>  <a accesskey="n" title="Chapter 7. Build Configuration" href="cha.obs.build_config.html"><span>▶</span></a></strong></p></div></td></tr></table></div></body></html>